<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="CDN Bakery">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#1a1a2e">

  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">

  <title>CDN Bakery Chat</title>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%;
      background: #1a1a2e;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100svh;
    }
    .logo { font-size: 56px; margin-bottom: 20px; }
    h1 { color: #fff; font-size: 22px; font-weight: 700; margin-bottom: 8px; }
    p  { color: rgba(255,255,255,0.45); font-size: 14px; margin-bottom: 36px; }

    .btn {
      display: block;
      background: #6c63ff;
      color: #fff;
      font-size: 17px;
      font-weight: 600;
      text-decoration: none;
      padding: 16px 40px;
      border-radius: 16px;
      text-align: center;
      margin-bottom: 16px;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active { opacity: 0.8; }

    .spinner {
      width: 32px; height: 32px;
      border: 3px solid rgba(255,255,255,0.12);
      border-top-color: #6c63ff;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      margin-top: 24px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .hint { color: rgba(255,255,255,0.3); font-size: 12px; margin-top: 12px; text-align: center; line-height: 1.5; }
  </style>
</head>
<body>
  <div class="logo">üçû</div>
  <h1>CDN Bakery Chat</h1>
  <p>–û—Ç–∫—Ä—ã–≤–∞–µ–º —á–∞—Ç‚Ä¶</p>
  <div class="spinner" id="spinner"></div>
  <div class="hint" id="hint" style="display:none">
    –ù–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏?<br>
    <a class="btn" style="margin-top:12px; display:inline-block; padding:12px 28px; font-size:15px;"
       href="https://chat.cdnbakery.com/w/1/c/2429?search=&open=true">
      –û—Ç–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é
    </a>
  </div>

  <script>
    const TARGET = 'https://chat.cdnbakery.com/w/1/c/2429?search=&open=true';

    // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/chatpage/sw.js', { scope: '/chatpage/' }).catch(() => {});
    }

    // –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Ü–µ–ª–µ–≤–æ–π URL
    // location.replace –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏—é ‚Äî –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –Ω–µ –≤–µ—Ä–Ω—ë—Ç –Ω–∞ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É
    window.location.replace(TARGET);

    // –ï—Å–ª–∏ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –≤—Å—ë –µ—â—ë –∑–¥–µ—Å—å ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É (–Ω–∞ —Å–ª—É—á–∞–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞)
    setTimeout(() => {
      document.getElementById('spinner').style.display = 'none';
      document.getElementById('hint').style.display = 'block';
    }, 3000);
  </script>
</body>
</html>
